<!DOCTYPE html>
<html>
    <head>
        <title>Customer CMS</title>

        <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

        <!-- THEME SCRIPT (Add this!) -->
        <script>
            function toggleTheme() {
                const body = document.body;
                body.classList.toggle("dark-mode");

                if (body.classList.contains("dark-mode")) {
                    localStorage.setItem("theme", "dark");
                } else {
                    localStorage.setItem("theme", "light");
                }
            }

            document.addEventListener("DOMContentLoaded", () => {
                const savedTheme = localStorage.getItem("theme");
                if (savedTheme === "dark") {
                    document.body.classList.add("dark-mode");
                }
            });
        </script>
    </head>

    <body>
        <div class="navbar">
            <div><a href="{{ url_for('home') }}">Customer CMS</a></div>

            <div class="nav-right">
                {% if current_user.is_authenticated %}
                    <a href="{{ url_for('dashboard') }}">Dashboard</a>
                    <a href="{{ url_for('customers') }}">Customers</a>
                    <a href="{{ url_for('logout') }}">Logout</a>
                {% else %}
                    <a href="{{ url_for('login') }}">Login</a>
                    <a href="{{ url_for('register') }}">Register</a>
                {% endif %}

                <button class="theme-btn" onclick="toggleTheme()">ðŸŒ™ Theme</button>
            </div>
        </div>

        <div class="container">
            {% block content %}{% endblock %}
        </div>
    </body>
</html>
